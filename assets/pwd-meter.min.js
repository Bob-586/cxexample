
jQuery(document).ready(function(){var a={};a.ui={container:"#pwd-container",showVerdictsInsideProgressBar:true,viewports:{progress:".pwstrength_viewport_progress"}};a.common={debug:true,onLoad:function(){$("#messages").text("Start typing password")}};$("#edit_user-password").pwstrength(a)});(function(e){var f={};try{if(!e&&module&&module.exports){var e=require("jquery"),c=require("jsdom").jsdom;e=e(c().parentWindow)}}catch(g){}(function(i,j){var h={};j.forbiddenSequences=["0123456789","abcdefghijklmnopqrstuvwxyz","qwertyuiop","asdfghjkl","zxcvbnm","!@#$%^&*()_+"];h.wordNotEmail=function(k,l,m){if(l.match(/^([\w\!\#$\%\&\'\*\+\-\/\=\?\^\`{\|\}\~]+\.)*[\w\!\#$\%\&\'\*\+\-\/\=\?\^\`{\|\}\~]+@((((([a-z0-9]{1}[a-z0-9\-]{0,62}[a-z0-9]{1})|[a-z])\.)+[a-z]{2,6})|(\d{1,3}\.){3}\d{1,3}(\:\d{1,5})?)$/i)){return m}return 0};h.wordLength=function(k,n,o){var l=n.length,m=Math.pow(l,k.rules.raisePower);if(l<k.common.minChar){m=(m+o)}return m};h.wordSimilarToUsername=function(k,l,m){var n=i(k.common.usernameField).val();if(n&&l.toLowerCase().match(n.toLowerCase())){return m}return 0};h.wordTwoCharacterClasses=function(k,l,m){if(l.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)||(l.match(/([a-zA-Z])/)&&l.match(/([0-9])/))||(l.match(/(.[!,@,#,$,%,\^,&,*,?,_,~])/)&&l.match(/[a-zA-Z0-9_]/))){return m}return 0};h.wordRepetitions=function(k,l,m){if(l.match(/(.)\1\1/)){return m}return 0};h.wordSequences=function(l,n,o){var m=false,k;if(n.length>2){i.each(j.forbiddenSequences,function(p,q){var r=[q,q.split("").reverse().join("")];i.each(r,function(s,t){for(k=0;k<(n.length-2);k+=1){if(t.indexOf(n.toLowerCase().substring(k,k+3))>-1){m=true}}})});if(m){return o}}return 0};h.wordLowercase=function(k,l,m){return l.match(/[a-z]/)&&m};h.wordUppercase=function(k,l,m){return l.match(/[A-Z]/)&&m};h.wordOneNumber=function(k,l,m){return l.match(/\d+/)&&m};h.wordThreeNumbers=function(k,l,m){return l.match(/(.*[0-9].*[0-9].*[0-9])/)&&m};h.wordOneSpecialChar=function(k,l,m){return l.match(/.[!,@,#,$,%,\^,&,*,?,_,~]/)&&m};h.wordTwoSpecialChar=function(k,l,m){return l.match(/(.*[!,@,#,$,%,\^,&,*,?,_,~].*[!,@,#,$,%,\^,&,*,?,_,~])/)&&m};h.wordUpperLowerCombo=function(k,l,m){return l.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&m};h.wordLetterNumberCombo=function(k,l,m){return l.match(/([a-zA-Z])/)&&l.match(/([0-9])/)&&m};h.wordLetterNumberCharCombo=function(k,l,m){return l.match(/([a-zA-Z0-9].*[!,@,#,$,%,\^,&,*,?,_,~])|([!,@,#,$,%,\^,&,*,?,_,~].*[a-zA-Z0-9])/)&&m};j.validation=h;j.executeRules=function(k,m){var l=0;i.each(k.rules.activated,function(r,q){if(q){var s=k.rules.scores[r],o=j.validation[r],n,p;if(!i.isFunction(o)){o=k.rules.extra[r]}if(i.isFunction(o)){n=o(k,m,s);if(n){l+=n}if(n<0||(!i.isNumeric(n)&&!n)){p=k.ui.spanError(k,r);if(p.length>0){k.instances.errors.push(p)}}}}});return l}}(e,f));try{if(module&&module.exports){module.exports=f}}catch(g){}var a={};a.common={};a.common.minChar=6;a.common.usernameField="#username";a.common.userInputs=[];a.common.onLoad=undefined;a.common.onKeyUp=undefined;a.common.zxcvbn=false;a.common.debug=false;a.rules={};a.rules.extra={};a.rules.scores={wordNotEmail:-100,wordLength:-50,wordSimilarToUsername:-100,wordSequences:-50,wordTwoCharacterClasses:2,wordRepetitions:-25,wordLowercase:1,wordUppercase:3,wordOneNumber:3,wordThreeNumbers:5,wordOneSpecialChar:3,wordTwoSpecialChar:5,wordUpperLowerCombo:2,wordLetterNumberCombo:2,wordLetterNumberCharCombo:2};a.rules.activated={wordNotEmail:true,wordLength:true,wordSimilarToUsername:true,wordSequences:true,wordTwoCharacterClasses:false,wordRepetitions:false,wordLowercase:true,wordUppercase:true,wordOneNumber:true,wordThreeNumbers:true,wordOneSpecialChar:true,wordTwoSpecialChar:true,wordUpperLowerCombo:true,wordLetterNumberCombo:true,wordLetterNumberCharCombo:true};a.rules.raisePower=1.4;a.ui={};a.ui.bootstrap2=false;a.ui.showProgressBar=true;a.ui.showPopover=false;a.ui.showStatus=false;a.ui.spanError=function(h,i){var j=h.ui.errorMessages[i];if(!j){return""}return'<span style="color: #d52929">'+j+"</span>"};a.ui.popoverError=function(i){var h="<div>Errors:<ul class='error-list' style='margin-bottom: 0;'>";e.each(i,function(j,k){h+="<li>"+k+"</li>"});h+="</ul></div>";return h};a.ui.errorMessages={wordLength:"Your password is too short",wordNotEmail:"Do not use your email as your password",wordSimilarToUsername:"Your password cannot contain your username",wordTwoCharacterClasses:"Use different character classes",wordRepetitions:"Too many repetitions",wordSequences:"Your password contains sequences"};a.ui.verdicts=["Weak","Normal","Medium","Strong","Very Strong"];a.ui.showVerdicts=true;a.ui.showVerdictsInsideProgressBar=false;a.ui.showErrors=true;a.ui.container=undefined;a.ui.viewports={progress:undefined,verdict:undefined,errors:undefined};a.ui.scores=[14,26,38,50];var d={};(function(k,j){var h=["danger","warning","success"],i=["error","warning","success"];j.getContainer=function(l,m){var n;n=k(l.ui.container);if(!(n&&n.length===1)){n=m.parent()}return n};j.findElement=function(n,l,m){if(l){return n.find(l).find(m)}return n.find(m)};j.getUIElements=function(m,n){var o,l;if(m.instances.viewports){return m.instances.viewports}o=j.getContainer(m,n);l={};l.$progressbar=j.findElement(o,m.ui.viewports.progress,"div.progress");if(m.ui.showVerdictsInsideProgressBar){l.$verdict=l.$progressbar.find("span.password-verdict")}if(!m.ui.showPopover){if(!m.ui.showVerdictsInsideProgressBar){l.$verdict=j.findElement(o,m.ui.viewports.verdict,"span.password-verdict")}l.$errors=j.findElement(o,m.ui.viewports.errors,"ul.error-list")}m.instances.viewports=l;return l};j.initProgressBar=function(m,n){var o=j.getContainer(m,n),l="<div class='progress'><div class='";if(!m.ui.bootstrap2){l+="progress-"}l+="bar'>";if(m.ui.showVerdictsInsideProgressBar){l+="<span class='password-verdict'></span>"}l+="</div></div>";if(m.ui.viewports.progress){o.find(m.ui.viewports.progress).append(l)}else{k(l).insertAfter(n)}};j.initHelper=function(m,o,n,l){var p=j.getContainer(m,o);if(l){p.find(l).append(n)}else{k(n).insertAfter(o)}};j.initVerdict=function(l,m){j.initHelper(l,m,"<span class='password-verdict'></span>",l.ui.viewports.verdict)};j.initErrorList=function(l,m){j.initHelper(l,m,"<ul class='error-list'></ul>",l.ui.viewports.errors)};j.initPopover=function(l,m){m.popover("destroy");m.popover({html:true,placement:"bottom",trigger:"manual",content:" "})};j.initUI=function(l,m){if(l.ui.showPopover){j.initPopover(l,m)}else{if(l.ui.showErrors){j.initErrorList(l,m)}if(l.ui.showVerdicts&&!l.ui.showVerdictsInsideProgressBar){j.initVerdict(l,m)}}if(l.ui.showProgressBar){j.initProgressBar(l,m)}};j.possibleProgressBarClasses=["danger","warning","success"];j.updateProgressBar=function(n,o,m,l){var p=j.getUIElements(n,o).$progressbar,q=p.find(".progress-bar"),r="progress-";if(n.ui.bootstrap2){q=p.find(".bar");r=""}k.each(j.possibleProgressBarClasses,function(s,t){q.removeClass(r+"bar-"+t)});q.addClass(r+"bar-"+h[m]);q.css("width",l+"%")};j.updateVerdict=function(m,n,o){var l=j.getUIElements(m,n).$verdict;l.text(o)};j.updateErrors=function(m,o){var l=j.getUIElements(m,o).$errors,n="";k.each(m.instances.errors,function(p,q){n+="<li>"+q+"</li>"});l.html(n)};j.updatePopover=function(l,o,p){var q=o.data("bs.popover"),n="",m=true;if(l.ui.showVerdicts&&!l.ui.showVerdictsInsideProgressBar&&p.length>0){n="<h5><span class='password-verdict'>"+p+"</span></h5>";m=false}if(l.ui.showErrors){if(l.instances.errors.length>0){m=false}n+=l.ui.popoverError(l.instances.errors)}if(m){o.popover("hide");return}if(l.ui.bootstrap2){q=o.data("popover")}if(q.$arrow&&q.$arrow.parents("body").length>0){o.find("+ .popover .popover-content").html(n)}else{q.options.content=n;o.popover("show")}};j.updateFieldStatus=function(m,n,l){var o=m.ui.bootstrap2?".control-group":".form-group",p=n.parents(o).first();k.each(i,function(q,r){if(!m.ui.bootstrap2){r="has-"+r}p.removeClass(r)});l=i[l];if(!m.ui.bootstrap2){l="has-"+l}p.addClass(l)};j.percentage=function(n,m){var l=Math.floor(100*n/m);l=l<0?0:l;l=l>100?100:l;return l};j.getVerdictAndCssClass=function(m,o){var l,n,p;if(o<=0){l=0;p=-1;n=m.ui.verdicts[0]}else{if(o<m.ui.scores[0]){l=0;p=0;n=m.ui.verdicts[0]}else{if(o<m.ui.scores[1]){l=0;p=1;n=m.ui.verdicts[1]}else{if(o<m.ui.scores[2]){l=1;p=2;n=m.ui.verdicts[2]}else{if(o<m.ui.scores[3]){l=1;p=3;n=m.ui.verdicts[3]}else{l=2;p=4;n=m.ui.verdicts[4]}}}}}return[n,l,p]};j.updateUI=function(m,n,q){var l,o,p;l=j.getVerdictAndCssClass(m,q);p=l[0];l=l[1];if(m.ui.showProgressBar){o=j.percentage(q,m.ui.scores[3]);j.updateProgressBar(m,n,l,o);if(m.ui.showVerdictsInsideProgressBar){j.updateVerdict(m,n,p)}}if(m.ui.showStatus){j.updateFieldStatus(m,n,l)}if(m.ui.showPopover){j.updatePopover(m,n,p)}else{if(m.ui.showVerdicts&&!m.ui.showVerdictsInsideProgressBar){j.updateVerdict(m,n,p)}if(m.ui.showErrors){j.updateErrors(m,n)}}}}(e,d));var b={};(function(k,i){var j,h;j=function(p){var n=k(p.target),m=n.data("pwstrength-bootstrap"),q=n.val(),l,o,s,r;if(m===undefined){return}m.instances.errors=[];if(m.common.zxcvbn){l=[];k.each(m.common.userInputs,function(u,t){l.push(k(t).val())});l.push(k(m.common.usernameField).val());r=zxcvbn(q,l).entropy}else{r=f.executeRules(m,q)}d.updateUI(m,n,r);o=d.getVerdictAndCssClass(m,r);s=o[2];o=o[0];if(m.common.debug){console.log(r+" - "+o)}if(k.isFunction(m.common.onKeyUp)){m.common.onKeyUp(p,{score:r,verdictText:o,verdictLevel:s})}};i.init=function(l){this.each(function(m,o){var q=k.extend(true,{},a),p=k.extend(true,q,l),n=k(o);p.instances={};n.data("pwstrength-bootstrap",p);n.on("keyup",j);n.on("change",j);n.on("onpaste",j);d.initUI(p,n);if(k.trim(n.val())){n.trigger("keyup")}if(k.isFunction(p.common.onLoad)){p.common.onLoad()}});return this};i.destroy=function(){this.each(function(l,o){var n=k(o),m=n.data("pwstrength-bootstrap"),p=d.getUIElements(m,n);p.$progressbar.remove();p.$verdict.remove();p.$errors.remove();n.removeData("pwstrength-bootstrap")})};i.forceUpdate=function(){this.each(function(l,m){var n={target:m};j(n)})};i.addRule=function(l,o,n,m){this.each(function(p,r){var q=k(r).data("pwstrength-bootstrap");q.rules.activated[l]=m;q.rules.scores[l]=n;q.rules.extra[l]=o})};h=function(m,n,l){this.each(function(o,p){k(p).data("pwstrength-bootstrap").rules[n][m]=l})};i.changeScore=function(l,m){h.call(this,l,"scores",m)};i.ruleActive=function(m,l){h.call(this,m,"activated",l)};k.fn.pwstrength=function(m){var l;if(i[m]){l=i[m].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof m==="object"||!m){l=i.init.apply(this,arguments)}else{k.error("Method "+m+" does not exist on jQuery.pwstrength-bootstrap")}}return l}}(e,b))}(jQuery));